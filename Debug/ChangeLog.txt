作者: 1281261856#qq.com

本次更新:

1.定义主机类型
typedef enum MachineType {
	MT_UNKNOWN = 0, // 未知类型
	MT_WIFI,		// wifi主机
	MT_NETMOD,		// 带网络模块的工程主机
	MT_GPRS,		// gprs主机
	MT_MAX,
}MachineType;

2.网络模块上线报告自己为网络模块（1707），以便接警中心启用备用按钮

3.其他类型的主机暂时不需要上报自己的主机类型

4.协议更改。标准协议的xdata段添加2个字节表示长度，详见《标准协议扩展》

5.禁止添加防区000

6.修复退出编辑后不显示蚂蚁线的bug

7.修复删除地图后崩溃的bug


注：以下更新仅针对MT_NETMOD 带网络模块的工程主机

1.添加防区时向工程主机索要防区信息，并根据返回的防区类型（分机、探头、未登记）自动创建防区信息

2.索要或查询防区信息时，保存防区信息（属性或状态、物理地址等）到数据库

3.查询分机时，60秒内如无回应，则每隔20秒重发一次查询。60秒后仍无回应则提示“查询失败”

4.查询所有分机功能完成。依次查询每个分机，查询每个分机的逻辑与查询分机相同（60秒）




