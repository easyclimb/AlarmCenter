作者: 1281261856#qq.com

0.0.2.2731
恢复主机数据时,若两者不同为状态或属性时认为恢复失败,
同时为状态或属性时但状态或属性值不一致也认为恢复正确.


0.0.2.2713
启用远程控制（对主机或分机按钮右键单击）


0.0.2.2709
1.修复某些机子上不能生成二维码的bug
2.修复某些机子上不能调用python脚本的bug


0.0.2.2684
接警中心所在地到主机所在地的驾车导航完成


0.0.2.2675
百度地图功能基本完成。
主机管理界面内可查看、设置主机坐标
主机或分机界面内可查看、设置主机、分机的坐标


0.0.2.2662
1.修复防区范围错误提示（英文-->中文）
2.试图隐藏掉客户端断线重连时的断线提示：
安定宝ID相同，相同IP、端口的客户端上线时，不显示旧客户端的离线信息。
安定宝ID相同，IP、端口不同的客户端上线时，会显示旧客户端的离线信息。


0.0.2.2617
修复接警中心信息中地图界面上乱码的现象


0.0.2.2610
当发送或接收返回值不大于0时，踢出客户端链接


0.0.2.2592
1.显示的历史记录条数减少1条
2.分机添加防区时最大值为100
3.导出历史记录后清空界面上的历史记录
4.删除未绑定的防区时要求用户确认

SerialFilter更新：
稳定版


0.0.2.2573 钱方名
对任何数据包，回应的seq为发送的seq


0.0.2.2570
对有线防区特殊处理：
1.添加有线防区时不索要，直接添加
2.恢复主机数据时不恢复有线防区数据


0.0.2.2543
自动查询的超时时间为16小时


0.0.2.2534
调用Python脚本使用百度地图服务，自动定位接警中心所在地完成


0.0.2.2521
对恢复操作的回应添加详细的日志记录


0.0.2.2512
完全只靠心跳超时来判断客户端断线


0.0.2.2511
1.修复恢复直属探头时发送的类型为EE的错误
2.收到恢复的回应时，若状态或属性、物理地址与本地数据不一致，则认为这次恢复失败


0.0.2.2456
修改断线判断机制，发送失败后不认为断线


0.0.2.2412
钱工测试专用，带有远程控制功能（在主机按钮上右击）


0.0.2.2403
1.每个1小时检测一次分机上一次的通信时间，
若超过16小时无联系则自动查询

2.为方便测试，暂时每隔1分钟检测一次，超过16分钟无联系则自动查询，
待测试完成，修改为1小时与16小时


0.0.2.2379
1.服务期限检测精确度为1分钟
2.创建主机时默认服务期限为1年后
3.创建主机时若安定宝ID、设备ID非法则不允许创建


0.0.2.2365
添加主机的服务期限管理功能，到期后，
打开该主机界面时每隔1分钟提示1次该主机服务期限已到。


0.0.2.2345
1.心跳超时时间为1分钟
2.检测客户端断开连接，仅使用心跳超时机制


0.0.2.2343
1.踢掉客户端时记录原因
2.优化客户端链接对象的引用锁(TryLock)


0.0.2.2318
修复删除主机后需切换多次才能再次删除主机的bug


0.0.2.2316
添加dump内存数据的功能


0.0.2.2303
安定宝协议中GG值对0xCC做处理


0.0.2.2299
主机界面与分机界面也可以显示与其相关的历史记录


0.0.2.2293
开放索要功能


0.0.2.2290
恢复主机数据，收到回应才认为恢复成功，模拟测试完成


0.0.2.2287
恢复主机数据，发送成功即认为恢复成功，模拟测试完成


0.0.2.2262:
1.更改地图别名后立即刷新
2.分机查询失败后设置断线
3.修复历史记录判断何时弹窗提示的算法bug


0.0.2.2247：
1.查询分机失败后更改分机图标为断线
2.查询所有分机时，若某个分机查询失败则继续查询下一个


0.0.2.2236:
暂时屏蔽“索要”功能


0.0.2.2223:
1.定义主机类型
typedef enum MachineType {
	MT_UNKNOWN = 0, // 未知类型
	MT_WIFI,		// wifi主机
	MT_NETMOD,		// 带网络模块的工程主机
	MT_GPRS,		// gprs主机
	MT_MAX,
}MachineType;

2.网络模块上线报告自己为网络模块（1707），以便接警中心启用备用按钮

3.其他类型的主机暂时不需要上报自己的主机类型

4.协议更改。标准协议的xdata段添加2个字节表示长度，详见《标准协议扩展》

5.禁止添加防区000

6.修复退出编辑后不显示蚂蚁线的bug

7.修复删除地图后崩溃的bug

8.“关于”对话框显示“本次更新”

9.主界面与主机界面中历史记录的更新采用callback + buff + timer的模式，消除死锁隐患

注：以下更新仅针对MT_NETMOD 带网络模块的工程主机

1.添加防区时向工程主机索要防区信息，并根据返回的防区类型（分机、探头、未登记）自动创建防区信息

2.索要或查询防区信息时，保存防区信息（属性或状态、物理地址等）到数据库

3.查询分机时，60秒内如无回应，则每隔20秒重发一次查询。60秒后仍无回应则提示“查询失败”

4.查询所有分机功能完成。依次查询每个分机，查询每个分机的逻辑与查询分机相同（60秒）
